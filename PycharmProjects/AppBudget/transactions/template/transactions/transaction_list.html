{% extends 'transactions/base.html' %}
{% block title %}Liste des Transactions{% endblock %}

{% block content %}
<h2 class="text-2xl font-bold text-[#2E8B57] mb-4">Liste des Transactions</h2>
<div class="mb-4">
    <a href="{% url 'transaction_create' %}" class="bg-[#2E8B57] text-white py-2 px-4 rounded hover:bg-[#225D40]">
        Ajouter une nouvelle transaction
    </a>
</div>
<div class="overflow-x-auto">
    <table class="table-auto w-full border-collapse border border-[#2F4F4F] bg-[#F5F5DC] shadow-md rounded">
        <thead>
            <tr class="bg-[#2E8B57] text-white">
                <th class="border border-[#2F4F4F] px-4 py-2 text-left">Nom</th>
                <th class="border border-[#2F4F4F] px-4 py-2 text-left">Montant</th>
                <th class="border border-[#2F4F4F] px-4 py-2 text-left">Date</th>
                <th class="border border-[#2F4F4F] px-4 py-2 text-left">Catégorie</th>
                <th class="border border-[#2F4F4F] px-4 py-2 text-left">Devise</th>
                <th class="border border-[#2F4F4F] px-4 py-2 text-left">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for transaction in transactions %}
            <tr class="hover:bg-[#87CEEB]">
                <td class="border border-[#2F4F4F] px-4 py-2">{{ transaction.name }}</td>
                <td class="border border-[#2F4F4F] px-4 py-2">{{ transaction.amount }}</td>
                <td class="border border-[#2F4F4F] px-4 py-2">{{ transaction.date }}</td>
                <td class="border border-[#2F4F4F] px-4 py-2">{{ transaction.category.name }}</td>
                <td class="border border-[#2F4F4F] px-4 py-2">{{ transaction.currency.symbol }}</td>
                <td class="border border-[#2F4F4F] px-4 py-2">
                    <a href="{% url 'transaction_update' transaction.id %}" class="text-[#2E8B57] hover:underline">Modifier</a>
                    <a href="{% url 'transaction_delete' transaction.id %}" class="text-red-500 hover:underline ml-2">Supprimer</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" class="text-center text-gray-500 py-4">
                    Aucune transaction trouvée.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
